
Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-btlhz[0m
{"level":"warn","ts":1583141309.6389399,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/0.8.0-**-support-backwards-incompats\" is not a valid GitHub commit ID"}
{"level":"info","ts":1583141309.639581,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-k56x8[0m
{"level":"warn","ts":1583141310.0814104,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1583141310.0830276,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-salaboy-fmtok8s-api-gateway-pr-r7mzn-rzc4n[0m
{"level":"warn","ts":1583141317.1247556,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/0.8.0-**-support-backwards-incompats\" is not a valid GitHub commit ID"}
{"level":"info","ts":1583141318.417427,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/*******/fmtok8s-api-gateway.git @ master in path /workspace/source"}

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:8065ec3144324c68853c2d258543857961d491e9,2:4405d92983a3a2a1c0092183e6151d0725286d92
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git fetch origin --unshallow 4405d92983a3a2a1c0092183e6151d0725286d92: 8065ec3144324c68853c2d258543857961d491e9:
DEBUG: ran git fetch --unshallow origin 4405d92983a3a2a1c0092183e6151d0725286d92: 8065ec3144324c68853c2d258543857961d491e9: in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git branch
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git checkout master
DEBUG: ran git checkout master in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git reset --hard 8065ec3144324c68853c2d258543857961d491e9
DEBUG: ran git reset --hard 8065ec3144324c68853c2d258543857961d491e9 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge 4405d92983a3a2a1c0092183e6151d0725286d92
DEBUG: ran git merge 4405d92983a3a2a1c0092183e6151d0725286d92 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e 8065ec3144324c68853c2d258543857961d491e9..HEAD
Merged SHA 4405d92983a3a2a1c0092183e6151d0725286d92 with commit message 'exposing actuators again' into base branch master
Merged SHA a78891ca60743fab057bc58f47144788032c1c23 with commit message 'expanding liveness' into base branch master
Merged SHA 36d6c985e3b7bffd3cefdb88a01f07539c618d5f with commit message 'hidden sections' into base branch master
Merged SHA 7cf88b1c94f4c240d1889a68e842f2be9b8760d2 with commit message 'exposing gateway actuator and css' into base branch master
Merged SHA 39aeafc0ce83e6a1a69a0fc08cd6f2268c2d93e7 with commit message 'ommit description' into base branch master
Merged SHA fffe9bd416d6dc801d5cb0d05dd912f55763b310 with commit message 'new ui initial commit' into base branch master

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-build-set-version[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------< com.*******.conferences:api-gateway >-----------------
[INFO] Building FMTOK8S :: API Gateway 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- versions-maven-plugin:2.7:set (default-cli) @ api-gateway ---
[INFO] Searching for local aggregator root...
[INFO] Local aggregation root: /workspace/source
[INFO] Processing change of com.*******.conferences:api-gateway:0.0.1-SNAPSHOT -> 0.0.0-SNAPSHOT-PR-2-6
[INFO] Processing com.*******.conferences:api-gateway
[INFO]     Updating project com.*******.conferences:api-gateway
[INFO]         from version 0.0.1-SNAPSHOT to 0.0.0-SNAPSHOT-PR-2-6
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  18.517 s
[INFO] Finished at: 2020-03-02T09:29:03Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-install[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------< com.*******.conferences:api-gateway >-----------------
[INFO] Building FMTOK8S :: API Gateway 0.0.0-SNAPSHOT-PR-2-6
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ api-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 8 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ api-gateway ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /workspace/source/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ api-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ api-gateway ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /workspace/source/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ api-gateway ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.*******.conferences.site.DemoApplicationTests
09:29:39.651 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.*******.conferences.site.DemoApplicationTests]
09:29:39.686 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
09:29:39.751 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
09:29:39.875 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.*******.conferences.site.DemoApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
09:29:39.902 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.*******.conferences.site.DemoApplicationTests], using SpringBootContextLoader
09:29:39.950 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.*******.conferences.site.DemoApplicationTests]: class path resource [com/*******/conferences/site/DemoApplicationTests-context.xml] does not exist
09:29:39.957 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.*******.conferences.site.DemoApplicationTests]: class path resource [com/*******/conferences/site/DemoApplicationTestsContext.groovy] does not exist
09:29:39.958 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.*******.conferences.site.DemoApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
09:29:39.960 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.*******.conferences.site.DemoApplicationTests]: DemoApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09:29:40.191 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.*******.conferences.site.DemoApplicationTests]
09:29:40.744 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/workspace/source/target/classes/com/*******/conferences/site/DemoApplication.class]
09:29:40.748 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.*******.conferences.site.DemoApplication for test class com.*******.conferences.site.DemoApplicationTests
09:29:41.141 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.*******.conferences.site.DemoApplicationTests]: using defaults.
09:29:41.143 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener, org.springframework.cloud.contract.stubrunner.provider.wiremock.StubRunnerWireMockTestExecutionListener]
09:29:41.165 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
09:29:41.167 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
09:29:41.169 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5454d35e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@20c0a64d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@455b6df1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4ddbbdf8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3f67593e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1ab06251, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@41ab013, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@14bee915, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1115ec15, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@82ea68c, org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener@59e505b2, org.springframework.cloud.contract.stubrunner.provider.wiremock.StubRunnerWireMockTestExecutionListener@3af0a9da]
09:29:41.172 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.*******.conferences.site.DemoApplicationTests]
09:29:41.172 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.*******.conferences.site.DemoApplicationTests]
09:29:41.175 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.*******.conferences.site.DemoApplicationTests]
09:29:41.176 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.*******.conferences.site.DemoApplicationTests]
09:29:41.178 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.*******.conferences.site.DemoApplicationTests]
09:29:41.180 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.*******.conferences.site.DemoApplicationTests]
09:29:41.184 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@35645047 testClass = DemoApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [ReactiveWebMergedContextConfiguration@6f44a157 testClass = DemoApplicationTests, locations = '{}', classes = '{class com.*******.conferences.site.DemoApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27ff5d15, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@693fe6c9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@29d89d5d, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@101952da, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@32b260fa], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
09:29:41.385 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=-1}
2020-03-02 09:29:46.885  INFO 65 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$160145ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.9.RELEASE)

2020-03-02 09:29:47.540  INFO 65 --- [           main] c.s.c.site.DemoApplicationTests          : No active profile set, falling back to default profiles: default
2020-03-02 09:29:52.049  INFO 65 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a3e601c7-abf8-3ee1-b040-18865d8bdd07
2020-03-02 09:29:52.376  INFO 65 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$160145ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-02 09:29:57.760  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2020-03-02 09:29:57.760  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2020-03-02 09:29:57.767  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2020-03-02 09:29:57.768  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2020-03-02 09:29:57.769  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2020-03-02 09:29:57.769  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2020-03-02 09:29:57.770  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2020-03-02 09:29:57.770  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2020-03-02 09:29:57.770  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2020-03-02 09:29:57.770  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-03-02 09:29:57.770  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2020-03-02 09:29:57.770  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2020-03-02 09:29:57.770  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-03-02 09:29:59.696  INFO 65 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/actuator'
2020-03-02 09:30:02.048  INFO 65 --- [           main] c.s.c.site.DemoApplicationTests          : Started DemoApplicationTests in 20.6 seconds (JVM running for 24.672)
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 24.22 s - in com.*******.conferences.site.DemoApplicationTests
[INFO] Running com.*******.conferences.site.C4PApisTests
2020-03-02 09:30:03.158  INFO 65 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.*******.conferences.site.C4PApisTests], using SpringBootContextLoader
2020-03-02 09:30:03.166  INFO 65 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.*******.conferences.site.C4PApisTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2020-03-02 09:30:03.167  INFO 65 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.*******.conferences.site.C4PApisTests]: C4PApisTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2020-03-02 09:30:03.260  INFO 65 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.*******.conferences.site.DemoApplication for test class com.*******.conferences.site.C4PApisTests
2020-03-02 09:30:03.263  INFO 65 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener, org.springframework.cloud.contract.stubrunner.provider.wiremock.StubRunnerWireMockTestExecutionListener]
2020-03-02 09:30:03.267  INFO 65 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2919aff3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@639948a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@416d90f0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@696298ea, org.springframework.test.context.support.DirtiesContextTestExecutionListener@de0c402, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@24955144, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@9d2af36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@740ad32e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7f41d979, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@71d0b8a4, org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener@6d6712b7, org.springframework.cloud.contract.stubrunner.provider.wiremock.StubRunnerWireMockTestExecutionListener@4f563f96]
2020-03-02 09:30:03.651  INFO 65 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$160145ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.9.RELEASE)

2020-03-02 09:30:03.841  INFO 65 --- [           main] c.*******.conferences.site.C4PApisTests  : No active profile set, falling back to default profiles: default
2020-03-02 09:30:05.069  INFO 65 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=79161fd1-323f-37f7-8eee-1bf31a8e40e2
2020-03-02 09:30:05.169  INFO 65 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$160145ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-02 09:30:05.263  INFO 65 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'stubrunner-org.springframework.cloud.contract.stubrunner.spring.StubRunnerProperties' of type [org.springframework.cloud.contract.stubrunner.spring.StubRunnerProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-02 09:30:05.272  INFO 65 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.contract.stubrunner.spring.StubRunnerConfiguration' of type [org.springframework.cloud.contract.stubrunner.spring.StubRunnerConfiguration$$EnhancerBySpringCGLIB$$726b1541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-02 09:30:05.653  INFO 65 --- [           main] o.s.c.c.s.AetherStubDownloaderBuilder    : Will download stubs and contracts via Aether
2020-03-02 09:30:06.145  INFO 65 --- [           main] o.s.c.c.stubrunner.AetherStubDownloader  : Desired version is [+] - will try to resolve the latest version
2020-03-02 09:30:07.250  INFO 65 --- [           main] o.s.c.c.stubrunner.AetherStubDownloader  : Resolved version is [0.0.15]
2020-03-02 09:30:07.290  INFO 65 --- [           main] o.s.c.c.stubrunner.AetherStubDownloader  : Resolved artifact [com.*******.conferences:fmtok8s-c4p:jar:stubs:0.0.15] to /tmp/aether-local10321769383692524857/com/*******/conferences/fmtok8s-c4p/0.0.15/fmtok8s-c4p-0.0.15-stubs.jar
2020-03-02 09:30:07.298  INFO 65 --- [           main] o.s.c.c.stubrunner.AetherStubDownloader  : Unpacking stub from JAR [URI: file:/tmp/aether-local10321769383692524857/com/*******/conferences/fmtok8s-c4p/0.0.15/fmtok8s-c4p-0.0.15-stubs.jar]
2020-03-02 09:30:07.345  INFO 65 --- [           main] o.s.c.c.stubrunner.AetherStubDownloader  : Unpacked file to [/tmp/contracts9919838966380593708]
2020-03-02 09:30:12.174  INFO 65 --- [           main] wiremock.org.eclipse.jetty.util.log      : Logging initialized @34796ms
2020-03-02 09:30:12.256  WARN 65 --- [           main] w.o.e.j.s.NetworkTrafficServerConnector  : Acceptors should be <= availableProcessors: NetworkTrafficServerConnector@456beb8b{HTTP/1.1}{0.0.0.0:0}
2020-03-02 09:30:12.462  INFO 65 --- [           main] w.org.eclipse.jetty.server.Server        : jetty-9.2.z-SNAPSHOT
2020-03-02 09:30:12.549  INFO 65 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@32192a69{/__*****,null,AVAILABLE}
2020-03-02 09:30:12.551  INFO 65 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@6030eff1{/,null,AVAILABLE}
2020-03-02 09:30:12.569  INFO 65 --- [           main] w.o.e.j.s.NetworkTrafficServerConnector  : Started NetworkTrafficServerConnector@456beb8b{HTTP/1.1}{0.0.0.0:11634}
2020-03-02 09:30:12.569  INFO 65 --- [           main] w.org.eclipse.jetty.server.Server        : Started @35193ms
2020-03-02 09:30:12.574  INFO 65 --- [           main] o.s.c.contract.stubrunner.StubServer     : Started stub server for project [com.*******.conferences:fmtok8s-c4p:0.0.15:stubs] on port 11634
2020-03-02 09:30:13.815  INFO 65 --- [qtp748353280-33] /__*****                                 : RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.AdminRequestHandler. Normalized mapped under returned 'null'
2020-03-02 09:30:13.881  INFO 65 --- [qtp748353280-33] WireMock                                 : Admin request received:
127.0.0.1 - POST /mappings

Connection: [keep-alive]
User-Agent: [Apache-HttpClient/4.5.5 (Java/11.0.2)]
Host: [localhost:11634]
Content-Length: [225]
Content-Type: [text/plain; charset=UTF-8]
{
  "id" : "1d6fc4ff-41b1-44c9-a77c-ca20e4873891",
  "request" : {
    "url" : "/ping",
    "method" : "GET"
  },
  "response" : {
    "status" : 200,
    "body" : "OK"
  },
  "uuid" : "1d6fc4ff-41b1-44c9-a77c-ca20e4873891"
}

2020-03-02 09:30:14.246  INFO 65 --- [qtp748353280-34] WireMock                                 : Admin request received:
127.0.0.1 - POST /mappings

Connection: [keep-alive]
User-Agent: [Apache-HttpClient/4.5.5 (Java/11.0.2)]
Host: [localhost:11634]
Content-Length: [227]
Content-Type: [text/plain; charset=UTF-8]
{
  "id" : "e8630d48-a1df-4649-a0bb-23a3185af041",
  "request" : {
    "url" : "/health",
    "method" : "GET"
  },
  "response" : {
    "status" : 200,
    "body" : "OK"
  },
  "uuid" : "e8630d48-a1df-4649-a0bb-23a3185af041"
}

2020-03-02 09:30:14.449  INFO 65 --- [qtp748353280-35] WireMock                                 : Admin request received:
127.0.0.1 - POST /mappings

Connection: [keep-alive]
User-Agent: [Apache-HttpClient/4.5.5 (Java/11.0.2)]
Host: [localhost:11634]
Content-Length: [980]
Content-Type: [text/plain; charset=UTF-8]
{
  "id" : "7a2c8042-5647-41e1-91fe-eaa377a79b76",
  "request" : {
    "url" : "/",
    "method" : "POST",
    "headers" : {
      "Content-Type" : {
        "matches" : "application/json.*"
      }
    },
    "bodyPatterns" : [ {
      "matchesJsonPath" : "$[?(@.['title'] =~ /[\\S\\s]+/)]"
    }, {
      "matchesJsonPath" : "$[?(@.['description'] =~ /[\\S\\s]+/)]"
    }, {
      "matchesJsonPath" : "$[?(@.['author'] =~ /[\\S\\s]+/)]"
    }, {
      "matchesJsonPath" : "$[?(@.['email'] =~ /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}/)]"
    } ]
  },
  "response" : {
    "status" : 200,
    "body" : "{\"id\":\"09320583-affb-460e-92e4-d71fe07903ee\",\"title\":\"MGZPCSXOGPJGQVZTTMCE\",\"description\":\"PSZYPNWHFJBOCCWEJCGK\",\"author\":\"IEAQPWQZWFLEJMXLTZKO\",\"email\":\"foo@bar-616942764.com\"}",
    "headers" : {
      "Content-Type" : "application/json"
    },
    "transformers" : [ "response-template" ]
  },
  "uuid" : "7a2c8042-5647-41e1-91fe-eaa377a79b76"
}

2020-03-02 09:30:14.554  INFO 65 --- [qtp748353280-35] WireMock                                 : Admin request received:
127.0.0.1 - POST /mappings

Connection: [keep-alive]
User-Agent: [Apache-HttpClient/4.5.5 (Java/11.0.2)]
Host: [localhost:11634]
Content-Length: [379]
Content-Type: [text/plain; charset=UTF-8]
{
  "id" : "1e29a3a2-52ab-4ec5-af18-59c611b69721",
  "request" : {
    "url" : "/info",
    "method" : "GET",
    "headers" : {
      "Content-Type" : {
        "matches" : "application/json.*"
      }
    }
  },
  "response" : {
    "status" : 200,
    "body" : "C4P v0.0.15",
    "transformers" : [ "response-template" ]
  },
  "uuid" : "1e29a3a2-52ab-4ec5-af18-59c611b69721"
}

2020-03-02 09:30:14.759  INFO 65 --- [           main] o.s.c.c.stubrunner.StubRunnerExecutor    : All stubs are now running RunningStubs [namesAndPorts={com.*******.conferences:fmtok8s-c4p:0.0.15:stubs=11634}]
2020-03-02 09:30:14.765  INFO 65 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'batchStubRunner' of type [org.springframework.cloud.contract.stubrunner.BatchStubRunner] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-02 09:30:14.778  INFO 65 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.contract.stubrunner.spring.cloud.StubRunnerSpringCloudAutoConfiguration' of type [org.springframework.cloud.contract.stubrunner.spring.cloud.StubRunnerSpringCloudAutoConfiguration$$EnhancerBySpringCGLIB$$3b9a8f99] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-02 09:30:16.946  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2020-03-02 09:30:16.947  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2020-03-02 09:30:16.948  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2020-03-02 09:30:16.949  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2020-03-02 09:30:16.949  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2020-03-02 09:30:16.950  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2020-03-02 09:30:16.951  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2020-03-02 09:30:16.951  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2020-03-02 09:30:16.952  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2020-03-02 09:30:16.952  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-03-02 09:30:16.953  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2020-03-02 09:30:16.954  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2020-03-02 09:30:16.954  INFO 65 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-03-02 09:30:17.842  INFO 65 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/actuator'
2020-03-02 09:30:18.678  INFO 65 --- [           main] c.*******.conferences.site.C4PApisTests  : Started C4PApisTests in 15.395 seconds (JVM running for 41.302)
Port from stub:  11634
2020-03-02 09:30:19.160  INFO 65 --- [qtp748353280-33] /                                        : RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2020-03-02 09:30:19.567  INFO 65 --- [qtp748353280-33] WireMock                                 : Request received:
127.0.0.1 - POST /

Accept-Charset: [big5, big5-hkscs, cesu-8, euc-jp, euc-kr, gb18030, gb2312, gbk, ibm-thai, ibm00858, ibm01140, ibm01141, ibm01142, ibm01143, ibm01144, ibm01145, ibm01146, ibm01147, ibm01148, ibm01149, ibm037, ibm1026, ibm1047, ibm273, ibm277, ibm278, ibm280, ibm284, ibm285, ibm290, ibm297, ibm420, ibm424, ibm437, ibm500, ibm775, ibm850, ibm852, ibm855, ibm857, ibm860, ibm861, ibm862, ibm863, ibm864, ibm865, ibm866, ibm868, ibm869, ibm870, ibm871, ibm918, iso-2022-cn, iso-2022-jp, iso-2022-jp-2, iso-2022-kr, iso-8859-1, iso-8859-13, iso-8859-15, iso-8859-16, iso-8859-2, iso-8859-3, iso-8859-4, iso-8859-5, iso-8859-6, iso-8859-7, iso-8859-8, iso-8859-9, jis_x0201, jis_x0212-1990, koi8-r, koi8-u, shift_jis, tis-620, us-ascii, utf-16, utf-16be, utf-16le, utf-32, utf-32be, utf-32le, utf-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-big5-hkscs-2001, x-big5-solaris, x-euc-jp-linux, x-euc-tw, x-eucjp-open, x-ibm1006, x-ibm1025, x-ibm1046, x-ibm1097, x-ibm1098, x-ibm1112, x-ibm1122, x-ibm1123, x-ibm1124, x-ibm1166, x-ibm1364, x-ibm1381, x-ibm1383, x-ibm300, x-ibm33722, x-ibm737, x-ibm833, x-ibm834, x-ibm856, x-ibm874, x-ibm875, x-ibm921, x-ibm922, x-ibm930, x-ibm933, x-ibm935, x-ibm937, x-ibm939, x-ibm942, x-ibm942c, x-ibm943, x-ibm943c, x-ibm948, x-ibm949, x-ibm949c, x-ibm950, x-ibm964, x-ibm970, x-iscii91, x-iso-2022-cn-cns, x-iso-2022-cn-gb, x-iso-8859-11, x-jis0208, x-jisautodetect, x-johab, x-macarabic, x-maccentraleurope, x-maccroatian, x-maccyrillic, x-macdingbat, x-macgreek, x-machebrew, x-maciceland, x-macroman, x-macromania, x-macsymbol, x-macthai, x-macturkish, x-macukraine, x-ms932_0213, x-ms950-hkscs, x-ms950-hkscs-xp, x-mswin-936, x-pck, x-sjis_0213, x-utf-16le-bom, x-utf-32be-bom, x-utf-32le-bom, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp]
Accept: [text/plain, application/json, application/*+json, */*]
User-Agent: [Java/11.0.2]
Connection: [keep-alive]
Host: [localhost:11634]
Content-Length: [112]
Content-Type: [application/json]
{ "title" : "test title", "description" : "test description", "author": "*******", "email": "*******@mail.com" }


Matched response definition:
{
  "status" : 200,
  "body" : "{\"id\":\"09320583-affb-460e-92e4-d71fe07903ee\",\"title\":\"MGZPCSXOGPJGQVZTTMCE\",\"description\":\"PSZYPNWHFJBOCCWEJCGK\",\"author\":\"IEAQPWQZWFLEJMXLTZKO\",\"email\":\"foo@bar-616942764.com\"}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "transformers" : [ "response-template" ]
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [7a2c8042-5647-41e1-91fe-eaa377a79b76]


Port from stub:  11634
2020-03-02 09:30:19.647  INFO 65 --- [qtp748353280-34] WireMock                                 : Request received:
127.0.0.1 - GET /info

User-Agent: [Java/11.0.2]
Connection: [keep-alive]
Host: [localhost:11634]
Accept: [text/plain, application/json, application/*+json, */*]
Content-Type: [application/json]



Matched response definition:
{
  "status" : 200,
  "body" : "C4P v0.0.15",
  "transformers" : [ "response-template" ]
}

Response:
HTTP/1.1 200
Matched-Stub-Id: [1e29a3a2-52ab-4ec5-af18-59c611b69721]


2020-03-02 09:30:19.716  INFO 65 --- [           main] w.o.e.j.s.NetworkTrafficServerConnector  : Stopped NetworkTrafficServerConnector@456beb8b{HTTP/1.1}{0.0.0.0:11634}
2020-03-02 09:30:19.740  INFO 65 --- [           main] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@6030eff1{/,null,UNAVAILABLE}
2020-03-02 09:30:19.741  INFO 65 --- [           main] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@32192a69{/__*****,null,UNAVAILABLE}
2020-03-02 09:30:19.742  WARN 65 --- [           main] w.o.e.j.util.thread.QueuedThreadPool     : qtp748353280{STOPPING,8<=8<=10,i=7,q=6} Couldn't stop Thread[qtp748353280-31,5,]
2020-03-02 09:30:19.743  WARN 65 --- [           main] w.o.e.j.util.thread.QueuedThreadPool     : qtp748353280{STOPPING,8<=8<=10,i=5,q=6} Couldn't stop Thread[qtp748353280-34,5,main]
2020-03-02 09:30:19.743  WARN 65 --- [           main] w.o.e.j.util.thread.QueuedThreadPool     : qtp748353280{STOPPING,8<=8<=10,i=4,q=6} Couldn't stop Thread[qtp748353280-36,5,main]
2020-03-02 09:30:19.743  WARN 65 --- [           main] w.o.e.j.util.thread.QueuedThreadPool     : qtp748353280{STOPPING,8<=8<=10,i=4,q=6} Couldn't stop Thread[qtp748353280-30,5,main]
2020-03-02 09:30:19.743  WARN 65 --- [           main] w.o.e.j.util.thread.QueuedThreadPool     : qtp748353280{STOPPING,8<=8<=10,i=3,q=6} Couldn't stop Thread[qtp748353280-29,5,main]
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.511 s - in com.*******.conferences.site.C4PApisTests
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- maven-jar-plugin:3.1.2:jar (default-jar) @ api-gateway ---
[INFO] Building jar: /workspace/source/target/api-gateway-0.0.0-SNAPSHOT-PR-2-6.jar
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.1.9.RELEASE:repackage (repackage) @ api-gateway ---
[INFO] Replacing main artifact with repackaged archive
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ api-gateway ---
[INFO] Installing /workspace/source/target/api-gateway-0.0.0-SNAPSHOT-PR-2-6.jar to /home/jenkins/.mvnrepository/com/*******/conferences/api-gateway/0.0.0-SNAPSHOT-PR-2-6/api-gateway-0.0.0-SNAPSHOT-PR-2-6.jar
[INFO] Installing /workspace/source/pom.xml to /home/jenkins/.mvnrepository/com/*******/conferences/api-gateway/0.0.0-SNAPSHOT-PR-2-6/api-gateway-0.0.0-SNAPSHOT-PR-2-6.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:16 min
[INFO] Finished at: 2020-03-02T09:30:25Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-build-skaffold-version[0m
v1.0.1

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image openjdk:11-jre-slim   
ERROR: logging before flag.Parse: E0302 09:30:26.539346      10 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E0302 09:30:26.543540      10 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2020/03/02 09:30:26 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:88d4192a5dab8de64fbeec699bcea3739f097f78f3184cd4e2aea6d7ac238da7: no such file or directory 
[36mINFO[0m[0001] Downloading base image openjdk:11-jre-slim   
2020/03/02 09:30:27 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 8080/tcp                
[36mINFO[0m[0002] Using files from context: [/workspace/source/pom.xml] 
[36mINFO[0m[0002] Using files from context: [/workspace/source/target/api-gateway-0.0.0-SNAPSHOT-PR-2-6.jar] 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] ENV PORT 8080                                
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] ENV CLASSPATH /opt/lib                       
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] EXPOSE 8080                                  
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 8080/tcp                
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] Using files from context: [/workspace/source/pom.xml] 
[36mINFO[0m[0002] COPY pom.xml target/lib* /opt/lib/           
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] Using files from context: [/workspace/source/target/api-gateway-0.0.0-SNAPSHOT-PR-2-6.jar] 
[36mINFO[0m[0002] COPY target/*.jar /opt/app.jar               
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0003] WORKDIR /opt                                 
[36mINFO[0m[0003] cmd: workdir                                 
[36mINFO[0m[0003] Changed working directory to /opt            
[36mINFO[0m[0003] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0003] ENTRYPOINT exec java $JAVA_OPTS -jar app.jar 
[36mINFO[0m[0003] No files changed in this command, skipping snapshotting. 
2020/03/02 09:30:29 existing blob: sha256:d5c28bc4eb5532356cd06f142ed9cd6cee0811be74e992fdd2190fee8cbcf710
2020/03/02 09:30:29 existing blob: sha256:68ced04f60ab5c7a5f1d0b0b4e7572c5a4c8cce44866513d30d9df1a15277d6b
2020/03/02 09:30:29 existing blob: sha256:8afa8e973e226cdc57cde0ef199d85ee1aa93b5f6a04abf68dc4952cdab931d5
2020/03/02 09:30:29 existing blob: sha256:4874c5772968dcab87c114bee2baf2c7e9a06dda36e63bdfeab71bd4d6f02890
2020/03/02 09:30:32 pushed blob: sha256:a1868b19828001ab11a7fb9d510a0761fa1458b6604fa3ec05c7d6075897feed
2020/03/02 09:30:32 pushed blob: sha256:d932a72cde8f6626dc418dc9b9d514065305d713192d9c374eab951c035cb6c3
2020/03/02 09:30:35 pushed blob: sha256:ae90015852726f71926dc95fb98358845f769feb89d8c88eded1bf7addaf7d99
2020/03/02 09:30:36 gcr.io/camunda-consulting-de/fmtok8s-api-gateway:0.0.0-SNAPSHOT-PR-2-6: digest: sha256:92d24caf82f4df51db1a81f4549325495ba110852004febb769ce766d90757d7 size: 1244

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-make-preview[0m
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-2-6/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-2-6/" ../*/Chart.yaml
sed -i -e "s|repository:.*|repository: gcr.io\/camunda-consulting-de\/fmtok8s-api-gateway|" values.yaml
sed -i -e "s/tag:.*/tag: 0.0.0-SNAPSHOT-PR-2-6/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-2-6" >> requirements.yaml
** step helm build
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: chartmuseum.jenkins-x.io http://chartmuseum.jenkins-x.io
Successfully added Helm repository chartmuseum.jenkins-x.io.

Showing logs for build [32msalaboy-fmtok8s-api-gateway-pr-r7mzn-6[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-preview[0m
Creating a preview
Found commit author match for: ******* with email address: *******@gmail.com
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: 35.195.82.183.nip.io
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: gcr.io/camunda-consulting-de/fmtok8s-api-gateway
    tag: 0.0.0-SNAPSHOT-PR-2-6

Updating PipelineActivities *******-fmtok8s-api-gateway-pr-2-6 which has status Running
Preview application is now available at: http://fmtok8s-api-gateway.**-*******-fmtok8s-api-gateway-pr-2.35.195.82.183.nip.io
